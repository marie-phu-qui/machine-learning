{"dependencies":[{"name":"/home/student/workspace/Lord-of-the-News/server/tensorflow/text-classif/package.json","includedInParent":true,"mtime":1538517523128},{"name":"@tensorflow/tfjs","loc":{"line":18,"column":20}}],"generated":{"js":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.sample = sample;\n\nvar _tfjs = require('@tensorflow/tfjs');\n\nvar tf = _interopRequireWildcard(_tfjs);\n\nfunction _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) newObj[key] = obj[key]; } } newObj.default = obj; return newObj; } }\n\n/**\n * Draw a sample based onprobabilities.\n *\n * @param {tf.Tensor} preds Predicted probabilities, as a 1D `tf.Tensor` of\n *   shape `[this._charSetSize]`.\n * @param {tf.Tensor} temperature Temperature (i.e., a measure of randomness\n *   or diversity) to use during sampling. Number be a number > 0, as a Scalar\n *   `tf.Tensor`.\n * @returns {number} The 0-based index for the randomly-drawn sample, in the\n *   range of [0, this._charSetSize - 1].\n */\nfunction sample(preds, temperature) {\n  return tf.tidy(function () {\n    var logPreds = tf.div(tf.log(preds), temperature);\n    var expPreds = tf.exp(logPreds);\n    var sumExpPreds = tf.sum(expPreds);\n    preds = tf.div(expPreds, sumExpPreds);\n    // Treat preds a the probabilites of a multinomial distribution and\n    // randomly draw a sample from the distribution.\n    return tf.multinomial(preds, 1, null, true).dataSync()[0];\n  });\n} /**\n   * @license\n   * Copyright 2018 Google LLC. All Rights Reserved.\n   * Licensed under the Apache License, Version 2.0 (the \"License\");\n   * you may not use this file except in compliance with the License.\n   * You may obtain a copy of the License at\n   *\n   * http://www.apache.org/licenses/LICENSE-2.0\n   *\n   * Unless required by applicable law or agreed to in writing, software\n   * distributed under the License is distributed on an \"AS IS\" BASIS,\n   * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n   * See the License for the specific language governing permissions and\n   * limitations under the License.\n   * =============================================================================\n   */","map":{"mappings":[{"name":"sample","generated":{"line":6,"column":8},"source":"utils.js","original":{"line":31,"column":16}},{"name":"sample","generated":{"line":6,"column":17},"source":"utils.js","original":{"line":31,"column":16}},{"generated":{"line":8,"column":0},"source":"utils.js","original":{"line":18,"column":0}},{"name":"tf","generated":{"line":10,"column":4},"source":"utils.js","original":{"line":18,"column":12}},{"generated":{"line":14,"column":0},"source":"utils.js","original":{"line":20,"column":0}},{"generated":{"line":25,"column":0},"source":"utils.js","original":{"line":31,"column":7}},{"name":"sample","generated":{"line":25,"column":9},"source":"utils.js","original":{"line":31,"column":16}},{"generated":{"line":25,"column":15},"source":"utils.js","original":{"line":31,"column":7}},{"name":"preds","generated":{"line":25,"column":16},"source":"utils.js","original":{"line":31,"column":23}},{"generated":{"line":25,"column":21},"source":"utils.js","original":{"line":31,"column":7}},{"name":"temperature","generated":{"line":25,"column":23},"source":"utils.js","original":{"line":31,"column":30}},{"generated":{"line":25,"column":34},"source":"utils.js","original":{"line":31,"column":7}},{"generated":{"line":25,"column":36},"source":"utils.js","original":{"line":31,"column":43}},{"generated":{"line":26,"column":0},"source":"utils.js","original":{"line":32,"column":2}},{"name":"tf","generated":{"line":26,"column":9},"source":"utils.js","original":{"line":32,"column":9}},{"name":"tidy","generated":{"line":26,"column":12},"source":"utils.js","original":{"line":32,"column":12}},{"generated":{"line":26,"column":16},"source":"utils.js","original":{"line":32,"column":9}},{"generated":{"line":26,"column":17},"source":"utils.js","original":{"line":32,"column":17}},{"generated":{"line":26,"column":29},"source":"utils.js","original":{"line":32,"column":23}},{"generated":{"line":27,"column":0},"source":"utils.js","original":{"line":33,"column":4}},{"name":"logPreds","generated":{"line":27,"column":8},"source":"utils.js","original":{"line":33,"column":10}},{"name":"tf","generated":{"line":27,"column":19},"source":"utils.js","original":{"line":33,"column":21}},{"name":"div","generated":{"line":27,"column":22},"source":"utils.js","original":{"line":33,"column":24}},{"generated":{"line":27,"column":25},"source":"utils.js","original":{"line":33,"column":21}},{"name":"tf","generated":{"line":27,"column":26},"source":"utils.js","original":{"line":33,"column":28}},{"name":"log","generated":{"line":27,"column":29},"source":"utils.js","original":{"line":33,"column":31}},{"generated":{"line":27,"column":32},"source":"utils.js","original":{"line":33,"column":28}},{"name":"preds","generated":{"line":27,"column":33},"source":"utils.js","original":{"line":33,"column":35}},{"generated":{"line":27,"column":38},"source":"utils.js","original":{"line":33,"column":28}},{"generated":{"line":27,"column":39},"source":"utils.js","original":{"line":33,"column":21}},{"name":"temperature","generated":{"line":27,"column":41},"source":"utils.js","original":{"line":33,"column":43}},{"generated":{"line":27,"column":52},"source":"utils.js","original":{"line":33,"column":21}},{"generated":{"line":27,"column":53},"source":"utils.js","original":{"line":33,"column":4}},{"generated":{"line":28,"column":0},"source":"utils.js","original":{"line":34,"column":4}},{"name":"expPreds","generated":{"line":28,"column":8},"source":"utils.js","original":{"line":34,"column":10}},{"name":"tf","generated":{"line":28,"column":19},"source":"utils.js","original":{"line":34,"column":21}},{"name":"exp","generated":{"line":28,"column":22},"source":"utils.js","original":{"line":34,"column":24}},{"generated":{"line":28,"column":25},"source":"utils.js","original":{"line":34,"column":21}},{"name":"logPreds","generated":{"line":28,"column":26},"source":"utils.js","original":{"line":34,"column":28}},{"generated":{"line":28,"column":34},"source":"utils.js","original":{"line":34,"column":21}},{"generated":{"line":28,"column":35},"source":"utils.js","original":{"line":34,"column":4}},{"generated":{"line":29,"column":0},"source":"utils.js","original":{"line":35,"column":4}},{"name":"sumExpPreds","generated":{"line":29,"column":8},"source":"utils.js","original":{"line":35,"column":10}},{"name":"tf","generated":{"line":29,"column":22},"source":"utils.js","original":{"line":35,"column":24}},{"name":"sum","generated":{"line":29,"column":25},"source":"utils.js","original":{"line":35,"column":27}},{"generated":{"line":29,"column":28},"source":"utils.js","original":{"line":35,"column":24}},{"name":"expPreds","generated":{"line":29,"column":29},"source":"utils.js","original":{"line":35,"column":31}},{"generated":{"line":29,"column":37},"source":"utils.js","original":{"line":35,"column":24}},{"generated":{"line":29,"column":38},"source":"utils.js","original":{"line":35,"column":4}},{"name":"preds","generated":{"line":30,"column":0},"source":"utils.js","original":{"line":36,"column":4}},{"name":"tf","generated":{"line":30,"column":12},"source":"utils.js","original":{"line":36,"column":12}},{"name":"div","generated":{"line":30,"column":15},"source":"utils.js","original":{"line":36,"column":15}},{"generated":{"line":30,"column":18},"source":"utils.js","original":{"line":36,"column":12}},{"name":"expPreds","generated":{"line":30,"column":19},"source":"utils.js","original":{"line":36,"column":19}},{"generated":{"line":30,"column":27},"source":"utils.js","original":{"line":36,"column":12}},{"name":"sumExpPreds","generated":{"line":30,"column":29},"source":"utils.js","original":{"line":36,"column":29}},{"generated":{"line":30,"column":40},"source":"utils.js","original":{"line":36,"column":12}},{"generated":{"line":30,"column":41},"source":"utils.js","original":{"line":36,"column":4}},{"generated":{"line":31,"column":0},"source":"utils.js","original":{"line":37,"column":4}},{"generated":{"line":32,"column":0},"source":"utils.js","original":{"line":38,"column":4}},{"generated":{"line":33,"column":0},"source":"utils.js","original":{"line":39,"column":4}},{"name":"tf","generated":{"line":33,"column":11},"source":"utils.js","original":{"line":39,"column":11}},{"name":"multinomial","generated":{"line":33,"column":14},"source":"utils.js","original":{"line":39,"column":14}},{"generated":{"line":33,"column":25},"source":"utils.js","original":{"line":39,"column":11}},{"name":"preds","generated":{"line":33,"column":26},"source":"utils.js","original":{"line":39,"column":26}},{"generated":{"line":33,"column":31},"source":"utils.js","original":{"line":39,"column":11}},{"generated":{"line":33,"column":33},"source":"utils.js","original":{"line":39,"column":33}},{"generated":{"line":33,"column":34},"source":"utils.js","original":{"line":39,"column":11}},{"generated":{"line":33,"column":36},"source":"utils.js","original":{"line":39,"column":36}},{"generated":{"line":33,"column":40},"source":"utils.js","original":{"line":39,"column":11}},{"generated":{"line":33,"column":42},"source":"utils.js","original":{"line":39,"column":42}},{"generated":{"line":33,"column":46},"source":"utils.js","original":{"line":39,"column":11}},{"name":"dataSync","generated":{"line":33,"column":48},"source":"utils.js","original":{"line":39,"column":48}},{"generated":{"line":33,"column":56},"source":"utils.js","original":{"line":39,"column":11}},{"generated":{"line":33,"column":59},"source":"utils.js","original":{"line":39,"column":59}},{"generated":{"line":33,"column":60},"source":"utils.js","original":{"line":39,"column":11}},{"generated":{"line":33,"column":61},"source":"utils.js","original":{"line":39,"column":4}},{"generated":{"line":34,"column":0},"source":"utils.js","original":{"line":40,"column":3}},{"generated":{"line":34,"column":3},"source":"utils.js","original":{"line":32,"column":9}},{"generated":{"line":34,"column":4},"source":"utils.js","original":{"line":32,"column":2}},{"generated":{"line":35,"column":0},"source":"utils.js","original":{"line":41,"column":1}},{"generated":{"line":35,"column":2},"source":"utils.js","original":{"line":1,"column":0}}],"sources":{"utils.js":"/**\n * @license\n * Copyright 2018 Google LLC. All Rights Reserved.\n * Licensed under the Apache License, Version 2.0 (the \"License\");\n * you may not use this file except in compliance with the License.\n * You may obtain a copy of the License at\n *\n * http://www.apache.org/licenses/LICENSE-2.0\n *\n * Unless required by applicable law or agreed to in writing, software\n * distributed under the License is distributed on an \"AS IS\" BASIS,\n * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.\n * See the License for the specific language governing permissions and\n * limitations under the License.\n * =============================================================================\n */\n\nimport * as tf from '@tensorflow/tfjs';\n\n/**\n * Draw a sample based onprobabilities.\n *\n * @param {tf.Tensor} preds Predicted probabilities, as a 1D `tf.Tensor` of\n *   shape `[this._charSetSize]`.\n * @param {tf.Tensor} temperature Temperature (i.e., a measure of randomness\n *   or diversity) to use during sampling. Number be a number > 0, as a Scalar\n *   `tf.Tensor`.\n * @returns {number} The 0-based index for the randomly-drawn sample, in the\n *   range of [0, this._charSetSize - 1].\n */\nexport function sample(preds, temperature) {\n  return tf.tidy(() => {\n    const logPreds = tf.div(tf.log(preds), temperature);\n    const expPreds = tf.exp(logPreds);\n    const sumExpPreds = tf.sum(expPreds);\n    preds = tf.div(expPreds, sumExpPreds);\n    // Treat preds a the probabilites of a multinomial distribution and\n    // randomly draw a sample from the distribution.\n    return tf.multinomial(preds, 1, null, true).dataSync()[0];\n  });\n}\n"},"lineCount":null}},"hash":"e345d30df062d6544384077a24a1e55e","cacheData":{"env":{}}}